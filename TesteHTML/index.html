<html>
<head>
    <title>Polar Area Chart</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>
    <style>
        canvas {
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
        }
    </style>
</head>

<body>
    <div style="width: 60%">
        <canvas id="voltageChart"></canvas>
    </div>
    <script>
        /*
        function httpGet()
        {
            var theUrl = 'https://io.adafruit.com/api/v2/Paces53/feeds/sensordata/data/last?x-aio-key=aio_nqoI77kQJQHwz74qcy5vhBwm0zOV'
            //var theUrl = '/api/v2/Paces53/feeds/sensordata/data/last'

            var xmlHttp = new XMLHttpRequest();
            xmlHttp.open( "GET", theUrl, false ); // false for synchronous request
            xmlHttp.send( null );
            return xmlHttp.responseText;
        }

        function httpGetAsync(, callback)
        {

            var theUrl = 'https://io.adafruit.com/api/v2/Paces53/feeds/sensordata/data/last?x-aio-key=aio_nqoI77kQJQHwz74qcy5vhBwm0zOV'
            var xmlHttp = new XMLHttpRequest();
            xmlHttp.onreadystatechange = function() {
                if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
                    callback(xmlHttp.responseText);
            }
            xmlHttp.open("GET", theUrl, true); // true for asynchronous
            xmlHttp.send(null);
        }


        var cenas = httpGet();
        console.log('yoooo! ' + cenas + '????????');

        $.get(
            "https://io.adafruit.com/api/v2/Paces53/feeds/sensordata/data/last?x-aio-key=aio_nqoI77kQJQHwz74qcy5vhBwm0zOV",
            {paramOne : 1, paramX : 'abc'},
            function(data) {
               alert('page content: ' + data);
            }
        );
        */

        const https = require('https');

        https.get('https://api.nasa.gov/planetary/apod?api_key=DEMO_KEY', (resp) => {
          let data = '';

          // A chunk of data has been recieved.
          resp.on('data', (chunk) => {
            data += chunk;
          });

          // The whole response has been received. Print out the result.
          resp.on('end', () => {
            console.log(JSON.parse(data).explanation);
          });

        }).on("error", (err) => {
          console.log("Error: " + err.message);
        });
    </script>
</body>

</html>
